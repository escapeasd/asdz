Если посмотреть на задание 4, то, по-моему, все работает так, как просится в условии самой задачи.
Если посмотреть на задание 3, то думаю, что тоже все работает по задумке.